<template id="range-slider-template">
  <style>
  .slider {
    --rangeInputColor: rgba(0, 0, 0, 0.8);
    --rangeInputTrackColor: currentColor;
    --rangeInputWidth: var(--width, 3.75rem);
    --rangeInputHeight: var(--height, calc(2.666666667 * var(--rangeInputWidth)));
    --rangeInputIconSize: var(--rangeInputIconSize, calc(var(--rangeInputWidth) / 3));
    --rangeValueTextColor: #fff;

    background-color: var(--rangeInputColor);
    overflow: hidden;
    width: var(--rangeInputWidth);
    height: var(--rangeInputHeight);
    margin: 0;
    position: relative;
    transition: transform ease-in-out 200ms;
  }

  .\-\-vertical {
    cursor: ns-resize;
    border-radius: calc(var(--rangeInputWidth) / 6);
  }

  .\-\-horizontal {
    cursor: ew-resize;
    border-radius: calc(var(--rangeInputHeight) / 6);
  }

  .slider:focus-within {
    transform: scale(1.05);
  }

  .slider:focus-within {
    outline-color: -webkit-focus-ring-color;
    outline-style: auto;
    outline-width: 5px;
  }

  .track {
    width: 100%;
    height: 100%;
    background-color: var(--rangeInputTrackColor);
    /*
     * Safari's painting optimisation ends up leaving line artefacts behind sometimes.
     * Expanding the track's box by 2px in all directions helps prevent artefacts.
     */
    box-shadow: 2px 2px transparent;
  }

  .\-\-vertical .track {
    transform: translateY(calc(100% - var(--rangeInputValue)));
  }

  .\-\-horizontal .track {
    transform: translateX(calc(-100% + var(--rangeInputValue)));
  }

  .input {
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    height: 1px;
    width: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
  }

  .valueLabel {
    position: absolute;
    bottom: 50%;
    left: 0;
    width: 100%;
    text-align: center;
    font-family: system-ui;
    font-size: calc(var(--rangeInputWidth) / 3);
    color: #fff;
    transform: translateY(50%);
  }

  .icon {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    width: var(--rangeInputIconSize);
    height: var(--rangeInputIconSize);
    background-repeat: no-repeat;
    background-size: 100% auto;
  }
  </style>

  <div class="slider">
    <input type="range" class="input" min="0" max="100" value="50" />
    <div class="track"></div>
    <slot name="valueLabel">
      <span class="valueLabel"></span>
    </slot>
    <div class="icon">
      <slot name="icon"></slot>
    </div>
  </div>
</template>
